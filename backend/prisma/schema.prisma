datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model Channel {
    channel_name String    @unique
    youtube_id   String    @id @unique
    youtube      String?
    twitter      String?
    avatar       String?
    last_updated DateTime?
    group_name   String
    group        Group     @relation(fields: [group_name], references: [group_name])
    streams      Stream[]
}

model Group {
    group_name   String       @id @unique
    org_name     String
    organization Organization @relation(fields: [org_name], references: [name])
    channels     Channel[]
}

model Organization {
    name   String  @id @unique
    groups Group[]
}

model Stream {
    url          String    @id @unique
    youtube_id   String    @unique
    title        String
    thumbnail    String
    live         Boolean
    last_updated DateTime
    start_date   DateTime
    end_date     DateTime?
    channel_name String
    channel      Channel   @relation(fields: [channel_name], references: [channel_name])
}
